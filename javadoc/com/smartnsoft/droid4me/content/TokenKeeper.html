<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (version 1.7.0_75) on Tue May 05 16:13:29 CEST 2015 -->
<title>TokenKeeper (droid4me API)</title>
<meta name="date" content="2015-05-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TokenKeeper (droid4me API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenKeeper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href="http://droid4me.googlecode.com"><img src="http://droid4me.googlecode.com/files/droid4me-logo.png" alt="droid4me project logo"/></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/smartnsoft/droid4me/content/SmartBroadcastReceiver.html" title="class in com.smartnsoft.droid4me.content"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/smartnsoft/droid4me/content/TokenKeeper.html" target="_top">Frames</a></li>
<li><a href="TokenKeeper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.smartnsoft.droid4me.content</div>
<h2 title="Class TokenKeeper" class="title">Class TokenKeeper&lt;Token extends java.io.Serializable&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.smartnsoft.droid4me.content.TokenKeeper&lt;Token&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl><dt><span class="strong">Type Parameters:</span></dt><dd><code>Token</code> - a <code>Serializable</code> type which implements properly the <code>Object.toString()</code> method</dd></dl>
<hr>
<br>
<pre>public class <span class="strong">TokenKeeper&lt;Token extends java.io.Serializable&gt;</span>
extends java.lang.Object</pre>
<div class="block">A utility class which enables to remember persistently of token associated to a string: those tokens can
 <ul>
 <li>be <code>#rememberToken()) remembered</code>,</li>
 <li>be even more <code>remembered and broadcast</code>,</li>
 <li>be simply <code>broadcast</code>,</li>
 <li>be <code>discarded</code>,</li>
 <li>be requested through the <code>#hasToken()</code> and <code>#missesToken()</code> methods.</li>
 </ul>
 
 <p>
 The token is represented by the class NotificationKind template.
 </p>
 
 <p>
 The implementation uses the Android <code>SharedPreferences</code> to store persistently the tokens, and it resorts to <code>intents</code> when it
 comes to <code>#broadcast(Token)</code> a token to the rest of the application: this is the reason why the template class must carefully implement the
 <code>Object.toString()</code> method.
 </p>
 
 <p>
 The class does not impose any threaded affinity. It will not trigger exceptions under concurrent races conditions, but it has not functionally been
 designed for a thread-safe mode (no atomicity is granted).
 </p>
 
 <p>
 This class is especially useful when, in at some point in the application, a web service is invoked, which causes the local cached data to be
 partially out-dated, and that the application should keep this information, so that it refreshes some business objects via web services when
 required.
 </p></div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>2011.07.27</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Ã‰douard Mercier</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="type parameter in TokenKeeper.TokenMultiplier">Token</a> extends java.io.Serializable&gt;</strong></code>
<div class="block">An interface, which enables to "multiply" a token.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected android.content.Context</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#context">context</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#enabled">enabled</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../../com/smartnsoft/droid4me/log/Logger.html" title="interface in com.smartnsoft.droid4me.log">Logger</a></code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#log">log</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected android.content.SharedPreferences</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#preferences">preferences</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#prefix">prefix</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#tokenMultiplier">tokenMultiplier</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#TokenKeeper(android.content.Context,%20java.lang.String)">TokenKeeper</a></strong>(android.content.Context&nbsp;context,
           java.lang.String&nbsp;prefix)</code>
<div class="block">Builds a notifier.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="class in com.smartnsoft.droid4me.content">TokenKeeper</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#appendTo(android.content.IntentFilter,%20Token...)">appendTo</a></strong>(android.content.IntentFilter&nbsp;intentFilter,
        <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</code>
<div class="block">Adds the <code>actions</code> to the provided <code>IntentFilter</code>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#belongsTo(android.content.Intent,%20Token...)">belongsTo</a></strong>(android.content.Intent&nbsp;intent,
         <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</code>
<div class="block">Searches in the provided <code>intent actions</code> whether one of the given notification kinds may be present.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#broadcast(Token...)">broadcast</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</code>
<div class="block">Invokes successively the <code>#broadcast(Token)</code> method for each provided token.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#broadcast(Token)">broadcast</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</code>
<div class="block">Triggers an Android broadcast <code>Intent</code> with the provided token as the single <code>action</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#computeTokenKey(Token,%20boolean)">computeTokenKey</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token,
               boolean&nbsp;forPersistence)</code>
<div class="block">The method responsible for generating a <code>String</code> from a token, so that the token key may be serialized when persisting it, or when
 computing the related broadcast <code>Intent</code> action.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#discardToken(Token)">discardToken</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</code>
<div class="block">Discards the given token, so as a <code>subsequent method call</code> returns <code>false</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#enrichBroadcast(Token,%20android.content.Intent)">enrichBroadcast</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token,
               android.content.Intent&nbsp;intent)</code>
<div class="block">Enables to enrich the <code>Intent</code> that is bound to be broadcast.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#getTokenMultiplier()">getTokenMultiplier</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#hasPersistedToken(java.lang.String)">hasPersistedToken</a></strong>(java.lang.String&nbsp;tokenKey)</code>
<div class="block">Indicates whether the token corresponding to the provided key is currently persisted and available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#hasToken(Token)">hasToken</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</code>
<div class="block">Indicates whether a given token is currently set for the given notification kind.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#isEnabled()">isEnabled</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#missesToken(Token)">missesToken</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</code>
<div class="block">Returns the opposite value of the <code>#hasToken(Token)</code> method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#persistToken(java.lang.String,%20boolean)">persistToken</a></strong>(java.lang.String&nbsp;tokenKey,
            boolean&nbsp;value)</code>
<div class="block">This is the place where the token is being stored at the persistence level.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#rememberToken(Token)">rememberToken</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</code>
<div class="block">Sets persistently a token for the given notification kind, so that a <code>subsequent call</code> returns <code>true</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#rememberTokenAndBroadcast(Token)">rememberTokenAndBroadcast</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</code>
<div class="block">Invokes consequently the <code>#rememberToken(Token)</code> and <code>#broadcast(Token)</code> methods.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#rememberTokens(Token...)">rememberTokens</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</code>
<div class="block">Invokes successively the <code>#rememberToken(Token)</code> method on each provided token.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#rememberTokensAndBroadcast(Token...)">rememberTokensAndBroadcast</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</code>
<div class="block">Invokes successively the <code>#rememberTokenAndBroadcast(Token)</code> method for each provided token.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#setEnabled(boolean)">setEnabled</a></strong>(boolean&nbsp;enabled)</code>
<div class="block">It is possible to totally disable the token keeper.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#setTokenMultiplier(com.smartnsoft.droid4me.content.TokenKeeper.TokenMultiplier)">setTokenMultiplier</a></strong>(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;&nbsp;tokenMultiplier)</code>
<div class="block">When <code>remembering a token</code>, it may be useful to remember other tokens which depend on it.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>protected static final&nbsp;<a href="../../../../com/smartnsoft/droid4me/log/Logger.html" title="interface in com.smartnsoft.droid4me.log">Logger</a> log</pre>
</li>
</ul>
<a name="context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>protected final&nbsp;android.content.Context context</pre>
</li>
</ul>
<a name="prefix">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prefix</h4>
<pre>protected final&nbsp;java.lang.String prefix</pre>
</li>
</ul>
<a name="preferences">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preferences</h4>
<pre>protected final&nbsp;android.content.SharedPreferences preferences</pre>
</li>
</ul>
<a name="tokenMultiplier">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tokenMultiplier</h4>
<pre>protected&nbsp;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a> extends java.io.Serializable&gt; tokenMultiplier</pre>
</li>
</ul>
<a name="enabled">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>enabled</h4>
<pre>protected&nbsp;boolean enabled</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TokenKeeper(android.content.Context, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TokenKeeper</h4>
<pre>public&nbsp;TokenKeeper(android.content.Context&nbsp;context,
           java.lang.String&nbsp;prefix)</pre>
<div class="block">Builds a notifier. It is very likely that a single instance of the <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="class in com.smartnsoft.droid4me.content"><code>TokenKeeper</code></a> should be created.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - it will be used to create an internal <code>SharedPreferences</code> instance, but also to invoke the
          <a href="../../../../com/smartnsoft/droid4me/support/v4/content/LocalBroadcastManager.html#sendBroadcast(android.content.Intent)"><code>LocalBroadcastManager.sendBroadcast(Intent)</code></a> method when broadcasting</dd><dd><code>prefix</code> - a string, which will be used when storing the token in the <code>preferences</code>, and when <code>broadcasting</code> it; can be <code>null</code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="isEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnabled</h4>
<pre>public final&nbsp;boolean&nbsp;isEnabled()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd><code>true</code> if and only if the token keeper is currently enabled</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#setEnabled(boolean)"><code>setEnabled(boolean)</code></a></dd></dl>
</li>
</ul>
<a name="setEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEnabled</h4>
<pre>public final&nbsp;void&nbsp;setEnabled(boolean&nbsp;enabled)</pre>
<div class="block">It is possible to totally disable the token keeper. By default, the token keeper is enabled/turned on. This is especially useful when you want to
 turn it off, while running tests.
 
 <p>
 When turned-off, no token will be remembered, discarded, nor broadcast.
 <p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>enabled</code> - whether the token keeper should be on or off</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#isEnabled()"><code>isEnabled()</code></a></dd></dl>
</li>
</ul>
<a name="getTokenMultiplier()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenMultiplier</h4>
<pre>public final&nbsp;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;&nbsp;getTokenMultiplier()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the currently registered token multiplier; may be <code>null</code></dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#setTokenMultiplier(com.smartnsoft.droid4me.content.TokenKeeper.TokenMultiplier)"><code>setTokenMultiplier(TokenMultiplier)</code></a></dd></dl>
</li>
</ul>
<a name="setTokenMultiplier(com.smartnsoft.droid4me.content.TokenKeeper.TokenMultiplier)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setTokenMultiplier</h4>
<pre>public final&nbsp;void&nbsp;setTokenMultiplier(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content">TokenKeeper.TokenMultiplier</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;&nbsp;tokenMultiplier)</pre>
<div class="block">When <code>remembering a token</code>, it may be useful to remember other tokens which depend on it. By default, no token
 multiplier is registered. This method enables to register an interface, which enables to remember other tokens than the provided one at the same
 time.
 
 <p>
 This method has no impact on the <code>token broadcasting</code>.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokenMultiplier</code> - the interface that will be used to "multiply" the remembered token; it should be set to <code>null</code>, if that feature needs to be
          disabled, which is the default</dd></dl>
</li>
</ul>
<a name="appendTo(android.content.IntentFilter,java.io.Serializable[])">
<!--   -->
</a><a name="appendTo(android.content.IntentFilter, Token...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendTo</h4>
<pre>public&nbsp;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="class in com.smartnsoft.droid4me.content">TokenKeeper</a>&lt;<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&gt;&nbsp;appendTo(android.content.IntentFilter&nbsp;intentFilter,
                          <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</pre>
<div class="block">Adds the <code>actions</code> to the provided <code>IntentFilter</code>.
 
 <p>
 For every provided notification kind, it is added to the IntentFilter, by prefixing it with the prefix provided in the
 <code>constructor</code>.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>intentFilter</code> - the intent filter which will be enriched</dd><dd><code>tokens</code> - the list of tokens to add to the intent filter action</dd>
<dt><span class="strong">Returns:</span></dt><dd>itself</dd></dl>
</li>
</ul>
<a name="belongsTo(android.content.Intent,java.io.Serializable[])">
<!--   -->
</a><a name="belongsTo(android.content.Intent, Token...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>belongsTo</h4>
<pre>public&nbsp;boolean&nbsp;belongsTo(android.content.Intent&nbsp;intent,
                <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</pre>
<div class="block">Searches in the provided <code>intent actions</code> whether one of the given notification kinds may be present.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>intent</code> - the intent that will investigated</dd><dd><code>tokens</code> - the list of notification kinds to look after</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if and only if the IntentFilter <code>action</code> is not null and one of notification kind matches the
         Intent action</dd></dl>
</li>
</ul>
<a name="hasToken(java.io.Serializable)">
<!--   -->
</a><a name="hasToken(Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasToken</h4>
<pre>public&nbsp;boolean&nbsp;hasToken(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</pre>
<div class="block">Indicates whether a given token is currently set for the given notification kind.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - the token to search for</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if and only if the notification kind token is present</dd><dt><span class="strong">See Also:</span></dt><dd><code>#missesToken(Token)</code></dd></dl>
</li>
</ul>
<a name="missesToken(java.io.Serializable)">
<!--   -->
</a><a name="missesToken(Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>missesToken</h4>
<pre>public&nbsp;boolean&nbsp;missesToken(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</pre>
<div class="block">Returns the opposite value of the <code>#hasToken(Token)</code> method.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#hasToken(Token)</code></dd></dl>
</li>
</ul>
<a name="rememberToken(java.io.Serializable)">
<!--   -->
</a><a name="rememberToken(Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberToken</h4>
<pre>public&nbsp;void&nbsp;rememberToken(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</pre>
<div class="block">Sets persistently a token for the given notification kind, so that a <code>subsequent call</code> returns <code>true</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - the token to set and remember</dd><dt><span class="strong">See Also:</span></dt><dd><code>#discardToken(Token)</code>, 
<code>#rememberTokenAndBroadcast(Token)</code></dd></dl>
</li>
</ul>
<a name="rememberTokens(java.io.Serializable[])">
<!--   -->
</a><a name="rememberTokens(Token...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberTokens</h4>
<pre>public&nbsp;void&nbsp;rememberTokens(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</pre>
<div class="block">Invokes successively the <code>#rememberToken(Token)</code> method on each provided token.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokens</code> - the list of tokens to set and remember</dd></dl>
</li>
</ul>
<a name="rememberTokenAndBroadcast(java.io.Serializable)">
<!--   -->
</a><a name="rememberTokenAndBroadcast(Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberTokenAndBroadcast</h4>
<pre>public&nbsp;void&nbsp;rememberTokenAndBroadcast(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</pre>
<div class="block">Invokes consequently the <code>#rememberToken(Token)</code> and <code>#broadcast(Token)</code> methods.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#broadcast(Token)</code>, 
<code>#rememberTokensAndBroadcast(Token...)</code></dd></dl>
</li>
</ul>
<a name="rememberTokensAndBroadcast(java.io.Serializable[])">
<!--   -->
</a><a name="rememberTokensAndBroadcast(Token...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rememberTokensAndBroadcast</h4>
<pre>public&nbsp;void&nbsp;rememberTokensAndBroadcast(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</pre>
<div class="block">Invokes successively the <code>#rememberTokenAndBroadcast(Token)</code> method for each provided token.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokens</code> - the list of tokens to handle</dd><dt><span class="strong">See Also:</span></dt><dd><code>#rememberTokenAndBroadcast(Token)</code></dd></dl>
</li>
</ul>
<a name="broadcast(java.io.Serializable)">
<!--   -->
</a><a name="broadcast(Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;void&nbsp;broadcast(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</pre>
<div class="block">Triggers an Android broadcast <code>Intent</code> with the provided token as the single <code>action</code>.
 
 <p>
 This method will invoke the <a href="../../../../com/smartnsoft/droid4me/support/v4/content/LocalBroadcastManager.html#sendBroadcast(android.content.Intent)"><code>LocalBroadcastManager.sendBroadcast(Intent)</code></a> method.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - the token to be broadcast, which will be used to compute the broadcast <code>Intent</code> action through the</dd><dt><span class="strong">See Also:</span></dt><dd><code>#discardToken(Token)</code>, 
<code>#computeTokenKey(Token, boolean)</code>, 
<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#enrichBroadcast(Token,%20android.content.Intent)"><code>enrichBroadcast(Serializable, Intent)</code></a></dd></dl>
</li>
</ul>
<a name="broadcast(java.io.Serializable[])">
<!--   -->
</a><a name="broadcast(Token...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;void&nbsp;broadcast(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>...&nbsp;tokens)</pre>
<div class="block">Invokes successively the <code>#broadcast(Token)</code> method for each provided token.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokens</code> - the list of tokens to handle</dd></dl>
</li>
</ul>
<a name="discardToken(java.io.Serializable)">
<!--   -->
</a><a name="discardToken(Token)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>discardToken</h4>
<pre>public&nbsp;void&nbsp;discardToken(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token)</pre>
<div class="block">Discards the given token, so as a <code>subsequent method call</code> returns <code>false</code>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - the token to discard</dd><dt><span class="strong">See Also:</span></dt><dd><code>#rememberToken(Token)</code></dd></dl>
</li>
</ul>
<a name="hasPersistedToken(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasPersistedToken</h4>
<pre>protected&nbsp;boolean&nbsp;hasPersistedToken(java.lang.String&nbsp;tokenKey)</pre>
<div class="block">Indicates whether the token corresponding to the provided key is currently persisted and available.
 
 <p>
 Overriding this method enables to change the way the token persistence is ensured. The current implementation relies on the <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#preferences"><code>preferences</code></a>.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokenKey</code> - the key of the token which is requested</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if and only if the given token is currently stored at the persistence level</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#persistToken(java.lang.String,%20boolean)"><code>persistToken(String, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="persistToken(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>persistToken</h4>
<pre>protected&nbsp;void&nbsp;persistToken(java.lang.String&nbsp;tokenKey,
                boolean&nbsp;value)</pre>
<div class="block">This is the place where the token is being stored at the persistence level. This method will eventually be invoked when a token is remembered or
 discarded.
 
 <p>
 The default implementation stores the token in the <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#preferences"><code>preferences</code></a>: overriding this method enables to customize the token persistence
 implementation.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>tokenKey</code> - the key resulting from the <code>Token.toString()</code> method call invoked on the parameter provided to the <code>#rememberToken(Token)</code>/
          <code>#discardToken(Token)</code> methods</dd><dd><code>value</code> - <code>true</code> and if only if the token needs to be remembered</dd><dt><span class="strong">See Also:</span></dt><dd><code>#rememberToken(Token)</code>, 
<code>#discardToken(Token)</code>, 
<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#hasPersistedToken(java.lang.String)"><code>hasPersistedToken(String)</code></a></dd></dl>
</li>
</ul>
<a name="computeTokenKey(java.io.Serializable,boolean)">
<!--   -->
</a><a name="computeTokenKey(Token, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeTokenKey</h4>
<pre>protected&nbsp;java.lang.String&nbsp;computeTokenKey(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token,
                               boolean&nbsp;forPersistence)</pre>
<div class="block">The method responsible for generating a <code>String</code> from a token, so that the token key may be serialized when persisting it, or when
 computing the related broadcast <code>Intent</code> action.
 
 <p>
 By overriding this method, it is possible to tune the way the token key is stored in the persistence layer. The default implementation resorts to
 the <a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#prefix"><code>prefix</code></a> value for computing the string prefix.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - the token to deal with</dd><dd><code>forPersistence</code> - indicates whether the stringified representation of the token should be computed for the persistence, or for the broadcast
          <code>Intent</code> ; returning two different values for the same token enables to broadcast a more generic version while storing a more
          specific</dd>
<dt><span class="strong">Returns:</span></dt><dd>a string which identifies the provided token</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#prefix"><code>prefix</code></a>, 
<code>#rememberToken(Token)</code>, 
<code>#discardToken(Token)</code>, 
<code>#broadcast(Token)</code></dd></dl>
</li>
</ul>
<a name="enrichBroadcast(java.io.Serializable,android.content.Intent)">
<!--   -->
</a><a name="enrichBroadcast(Token, android.content.Intent)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>enrichBroadcast</h4>
<pre>protected&nbsp;void&nbsp;enrichBroadcast(<a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html" title="type parameter in TokenKeeper">Token</a>&nbsp;token,
                   android.content.Intent&nbsp;intent)</pre>
<div class="block">Enables to enrich the <code>Intent</code> that is bound to be broadcast.
 
 <p>
 The method does nothing, and it may be overriden.
 </p></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>token</code> - then token which generates the broadcast</dd><dd><code>intent</code> - the <code>Intent</code> that has just been generated with the token token action</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.html#broadcast(Token)"><code>broadcast(Serializable)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TokenKeeper.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><a href="http://droid4me.googlecode.com"><img src="http://droid4me.googlecode.com/files/droid4me-logo.png" alt="droid4me project logo"/></a></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/smartnsoft/droid4me/content/SmartBroadcastReceiver.html" title="class in com.smartnsoft.droid4me.content"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../com/smartnsoft/droid4me/content/TokenKeeper.TokenMultiplier.html" title="interface in com.smartnsoft.droid4me.content"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/smartnsoft/droid4me/content/TokenKeeper.html" target="_top">Frames</a></li>
<li><a href="TokenKeeper.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2009-2012 Smart&Soft. All Rights Reserved.</i></small></p>
</body>
</html>
